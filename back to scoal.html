<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>العودة إلى المدرسة</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            direction: rtl;
            background-color: #1a202c; /* خلفية ثابتة */
            color: #e2e8f0;
            overflow: hidden;
        }

        .fireworks-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }

        .firework {
            position: absolute;
            background-color: #fff;
            border-radius: 50%;
            animation: firework-trail 1s ease-out forwards;
        }

        .firework .particle {
            position: absolute;
            width: 5px;
            height: 5px;
            background-color: currentColor;
            border-radius: 50%;
            animation: particle-burst 0.8s ease-out forwards;
        }

        @keyframes firework-trail {
            0% { transform: scale(0.1); opacity: 1; }
            100% { transform: scale(1); opacity: 0; }
        }

        @keyframes particle-burst {
            0% { transform: scale(0.1); opacity: 1; }
            100% { transform: scale(1); opacity: 0; }
        }

        .hidden {
            display: none;
        }

        #confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 5;
        }
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: currentColor;
            border-radius: 50%;
            animation: confetti-fall 5s ease-in forwards;
        }
        @keyframes confetti-fall {
            0% { transform: translateY(-100vh) rotateZ(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotateZ(720deg); opacity: 0; }
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200">
    <div id="confetti-container"></div>
    <div id="fireworks-container" class="fireworks-container hidden"></div>

    <div class="flex flex-col items-center justify-center min-h-screen p-4 text-center">
        <h1 id="title" class="text-4xl sm:text-5xl lg:text-6xl font-bold mb-8 animate-pulse text-yellow-300">
            العداد التنازلي لبداية العام الدراسي الجديد2025 
        </h1>

        <div id="countdown-timer" class="flex space-x-4 md:space-x-8 lg:space-x-12 mb-10">
            <div class="flex flex-col items-center bg-gray-800 p-4 rounded-lg shadow-xl transform hover:scale-105 transition-transform duration-300">
                <span id="days" class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-blue-400">00</span>
                <span class="text-sm md:text-base mt-2">يوم</span>
            </div>
            <div class="flex flex-col items-center bg-gray-800 p-4 rounded-lg shadow-xl transform hover:scale-105 transition-transform duration-300">
                <span id="hours" class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-purple-400">00</span>
                <span class="text-sm md:text-base mt-2">ساعة</span>
            </div>
            <div class="flex flex-col items-center bg-gray-800 p-4 rounded-lg shadow-xl transform hover:scale-105 transition-transform duration-300">
                <span id="minutes" class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-pink-400">00</span>
                <span class="text-sm md:text-base mt-2">دقيقة</span>
            </div>
            <div class="flex flex-col items-center bg-gray-800 p-4 rounded-lg shadow-xl transform hover:scale-105 transition-transform duration-300">
                <span id="seconds" class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-green-400">00</span>
                <span class="text-sm md:text-base mt-2">ثانية</span>
            </div>
        </div>

        <div id="message" class="text-3xl md:text-4xl lg:text-5xl font-bold text-white transition-opacity duration-1000 opacity-0 hidden">
            نتمنى لكم عاماً دراسياً جديداً مليئاً بالنجاح والتوفيق!
        </div>
    </div>

    <script>
        // Set the countdown date and time to August 31, 2025, at 7:00 AM.
        const countdownDate = new Date('August 31, 2025 07:00:00').getTime();

        const title = document.getElementById('title');
        const countdownTimer = document.getElementById('countdown-timer');
        const message = document.getElementById('message');
        const fireworksContainer = document.getElementById('fireworks-container');
        const confettiContainer = document.getElementById('confetti-container');
        const daysElement = document.getElementById('days');
        const hoursElement = document.getElementById('hours');
        const minutesElement = document.getElementById('minutes');
        const secondsElement = document.getElementById('seconds');
        
        let audioPlayed = false;

        // Function to create a single firework explosion
        function createFirework(x, y) {
            const firework = document.createElement('div');
            firework.className = 'firework';
            firework.style.left = `${x}px`;
            firework.style.top = `${y}px`;
            firework.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 75%)`;
            fireworksContainer.appendChild(firework);

            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.transform = `rotate(${Math.random() * 360}deg) translateX(${Math.random() * 50}px) translateY(${Math.random() * 50}px)`;
                firework.appendChild(particle);
            }
            // Remove the firework after the animation finishes
            setTimeout(() => {
                firework.remove();
            }, 1000);
        }

        // Function to create continuous fireworks
        function startFireworks() {
            fireworksContainer.classList.remove('hidden');
            setInterval(() => {
                const x = Math.random() * window.innerWidth;
                const y = Math.random() * window.innerHeight * 0.7; // Keep fireworks in the upper part of the screen
                createFirework(x, y);
            }, 300);
        }

        // Function to create confetti
        function createConfetti() {
            const colors = ['#f44336', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#4caf50', '#8bc34a', '#cddc39', '#ffeb3b', '#ffc107', '#ff9800', '#ff5722', '#795548', '#9e9e9e', '#607d8b'];
            setInterval(() => {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDuration = `${Math.random() * 3 + 2}s`;
                confetti.style.transform = `translateY(-100vh) rotateZ(${Math.random() * 720}deg)`;
                confettiContainer.appendChild(confetti);

                setTimeout(() => confetti.remove(), 5000);
            }, 50);
        }
        
        // Function to play a celebratory sound
        function playCelebrationSound() {
            if (audioPlayed) return;
            audioPlayed = true;
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.type = 'sine';
                oscillator.frequency.value = 440; // A4
                
                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.5, audioContext.currentTime + 0.1);
                gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + 0.5);

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                oscillator.start(0);
                oscillator.stop(audioContext.currentTime + 0.5);

            } catch (e) {
                console.error("Audio playback not supported or failed:", e);
            }
        }


        // Update the countdown every 1 second
        const x = setInterval(function() {
            const now = new Date().getTime();
            const distance = countdownDate - now;

            // Calculations for days, hours, minutes, and seconds
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Display the result
            daysElement.innerHTML = String(days).padStart(2, '0');
            hoursElement.innerHTML = String(hours).padStart(2, '0');
            minutesElement.innerHTML = String(minutes).padStart(2, '0');
            secondsElement.innerHTML = String(seconds).padStart(2, '0');

            // If the countdown is over, show the message and fireworks
            if (distance < 0) {
                clearInterval(x);
                title.classList.add('hidden');
                countdownTimer.classList.add('hidden');
                message.classList.remove('hidden');
                message.classList.add('animate-fadeIn');
                startFireworks();
                createConfetti();
                playCelebrationSound();
            }
        }, 1000);
    </script>
</body>
</html>
